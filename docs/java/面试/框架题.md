# 框架面试题

我学习要时常进行复习和把学到的知识应用到真实的场景项目中。

## 十、Spring/Spring MVC

### 90.为什么要使用 spring？

​		降低耦合，

​		工厂模式实现对 JavaBean 进行管理，通过控制反转（IOC）将应用程序的配置和依赖性与应用代码分开

​		通过 xml 配置 或注解即可加入面向切面编程的能力，完成切面功能

​		通过配置和简单的对象注入即可集成其他框架

### 91.解释一下什么是 aop？

​		面向切面编程，建立横切面

​		使用AOP技术，可以将一些系统性相关的编程工作，独立提取出来，独立实现，然后通过切面切入进系统

​		权限管理，事务管理，日志记录

### 92.解释一下什么是 ioc？

### 93.spring 有哪些主要模块？

1. Spring Core
   框架的最基础部分，提供 IoC 容器，对 bean 进行管理。

2. Spring Context
   基于 bean，提供上下文信息，扩展出JNDI、EJB、电子邮件、国际化、校验和调度等功能。

3. Spring DAO
   提供了JDBC的抽象层，它可消除冗长的JDBC编码和解析数据库厂商特有的错误代码，还提供了声明性事务管理方法。

4. Spring ORM
   提供了常用的“对象/关系”映射APIs的集成层。 其中包括JPA、JDO、Hibernate、MyBatis 等。

5. Spring AOP
   提供了符合AOP Alliance规范的面向方面的编程实现。

6. Spring Web
   提供了基础的 Web 开发的上下文信息，可与其他 web 进行集成。

7. Spring Web MVC
   提供了 Web 应用的 Model-View-Controller 全功能实现。

### 94.spring 常用的注入方式有哪些？

1. 构造器注入

   ```xml
   <bean id ="student" class="com.zsy.entities.Student">
   	<constructor-arg name = "id" valeue="1"></constructor-arg>
   </bean>
   ```

  2.  getter,setter注入

      ```xml
      <bean id="stu" class="com.southwind.entity.Student"> 
          <property name="id" value="1"> </property> 
          <property name="name" value="李四"> </property>
          <property name="age" value="22"> </property>
      </bean>
      ```

  3.  注解注入

### 95.spring 中的 bean 是线程安全的吗？

https://www.cnblogs.com/myseries/p/11729800.html

不是，默认bean的作用域是单例的，如果执行写入操作就会引发线程安全问题，比如定义了static变量，jvm的内存模型中存储在方法区中，方法区和堆都是线程共享的，就会导致这个问题。

### 96.spring 支持几种 bean 的作用域？

+ singleton：单例，默认

+ prototype： 每次请求都会创建新的bean
+ request: 每次http请求都会产生一个新的bean，该bean仅在httpsession内有效

+ session：在类中定义一个ThreadLocal成员变量，将需要的可变成员变量保存在 ThreadLocal 中（推荐的一种方式）。
+ global-session:全局会话，所有会话共享一个实例。

### 97.spring 自动装配 bean 有哪些方式？

 spring 配置文件中 <bean> 节点的 autowire 参数可以控制 bean 自动装配的方式

- default - 默认的方式和 "no" 方式一样
- no - 不自动装配，需要使用 <ref />节点或参数
- byName - 根据名称进行装配
- byType - 根据类型进行装配
- constructor - 根据构造函数进行装配

### 98.spring 事务实现方式有哪些？

1. 编程式事务，在代码中硬编码。(不推荐使用)
2. 声明式事务，在配置文件中配置（推荐使用）

**声明式事务又分为两种：**

1. 基于XML的声明式事务
2. 基于注解的声明式事务

### 99.说一下 spring 的事务隔离？

**TransactionDefinition 接口中定义了五个表示隔离级别的常量：**

+ DEFAULT: 和数据库隔离级别一致，mysql默认的repeatable_read
+ Read_uncommited: 脏读，不可重复读，幻读
+ read_commited:不可重复读，幻读
+ repeatable_read:幻读
+ serializable

### 100.说一下 spring mvc 运行流程？

1. 客户端（浏览器）发送请求，直接请求到 `DispatcherServlet`。
2. `DispatcherServlet` 根据请求信息调用 `HandlerMapping`，解析请求对应的 `Handler`。
3. 解析到对应的 `Handler`（也就是我们平常说的 `Controller` 控制器）后，开始由 `HandlerAdapter` 适配器处理。
4. `HandlerAdapter` 会根据 `Handler `来调用真正的处理器来处理请求，并处理相应的业务逻辑。
5. 处理器处理完业务后，会返回一个 `ModelAndView` 对象，`Model` 是返回的数据对象，`View` 是个逻辑上的 `View`。
6. `ViewResolver` 会根据逻辑 `View` 查找实际的 `View`。
7. `DispaterServlet` 把返回的 `Model` 传给 `View`（视图渲染）。
8. 把 `View` 返回给请求者（浏览器）

### 101.spring mvc 有哪些组件？

+ DispatherServlet
+ HandlerMapping
+ HandlerAdapter
+ Handler
+ View resolver

### 102.@RequestMapping 的作用是什么？

​	  用来标识 http 请求地址与 Controller 类的方法之间的映射

### 103.@Autowired 的作用是什么？

## **十一、Spring Boot/Spring Cloud**

### 104. 什么是 spring boot？

​		脚手架，可以快速整合框架的框架的框架

### 105. 为什么要用 spring boot？

​		简化新Spring应用的初始搭建以及开发过程

### 106. spring boot 核心配置文件是什么？

​	Spring Boot 有两种类型的配置文件，application 和 bootstrap 文件

### 107. spring boot 配置文件有哪几种类型？它们有什么区别？

		.properties 和 .yml，它们的区别主要是书写格式不同。
  1).properties
  app.user.name = javastack
  2).yml
  app:
   user:
  name: javastack
  另外，.yml 格式不支持 @PropertySource 注解导入配置。

### 108. spring boot 有哪些方式可以实现热部署？

​		热部署：在程序运行的时候升级

### 109. jpa 和 hibernate 有什么区别？

### 110. 什么是 spring cloud？

### 111. spring cloud 断路器的作用是什么？

### 112. spring cloud 的核心组件有哪些？

## **十三、Mybatis**

#### 125.mybatis 中 #{}和 ${}的区别是什么？

后者是直接拼接字符串，会引起sql注入，前者会进行预编译加上两个分号

> 例如，用户在输入密码的时候，输入 '''' ' or 1=1'', 这样，后台的程序在解析的时候，拼成的SQL语句，可能是这样的： select count(1) from tab where user=userinput and pass='' or 1=1; 

#### 126.mybatis 有几种分页方式？

#### 127.RowBounds 是一次性查询全部结果吗？为什么？

#### 128.mybatis 逻辑分页和物理分页的区别是什么？

#### 129.mybatis 是否支持延迟加载？延迟加载的原理是什么？

#### 130.说一下 mybatis 的一级缓存和二级缓存？

一级缓存，sqlsession开启和关闭中得缓存，在次过程，当前sqlsession使用两次同样得查询语句时候，会存进一级缓存，第二次访问不会有sql

二级缓存，只要是同一个mapper，两次查询可以是不同得sqlsession对象，但是前一个sqlsession关闭之后才会将数据存入二级缓存

#### 131.mybatis 和 hibernate 的区别有哪些？

#### 132.mybatis 有哪些执行器（Executor）？

#### 133.mybatis 分页插件的实现原理是什么？

#### 134.mybatis 如何编写一个自定义插件？

## **十四、RabbitMQ**

135.rabbitmq 的使用场景有哪些？

136.rabbitmq 有哪些重要的角色？

137.rabbitmq 有哪些重要的组件？

138.rabbitmq 中 vhost 的作用是什么？

139.rabbitmq 的消息是怎么发送的？

140.rabbitmq 怎么保证消息的稳定性？

141.rabbitmq 怎么避免消息丢失？

142.要保证消息持久化成功的条件有哪些？

143.rabbitmq 持久化有什么缺点？

144.rabbitmq 有几种广播类型？

145.rabbitmq 怎么实现延迟消息队列？

146.rabbitmq 集群有什么用？

147.rabbitmq 节点的类型有哪些？

148.rabbitmq 集群搭建需要注意哪些问题？

149.rabbitmq 每个节点是其他节点的完整拷贝吗？为什么？

150.rabbitmq 集群中唯一一个磁盘节点崩溃了会发生什么情况？

151.rabbitmq 对集群节点停止顺序有要求吗？

## **十五、Kafka**

152.kafka 可以脱离 zookeeper 单独使用吗？为什么？

153.kafka 有几种数据保留的策略？

154.kafka 同时设置了 7 天和 10G 清除数据，到第五天的时候消息达到了 10G，这个时候 kafka 将如何处理？

155.什么情况会导致 kafka 运行变慢？

156.使用 kafka 集群需要注意什么？

## **十六、Zookeeper**

157.zookeeper 是什么？

158.zookeeper 都有哪些功能？

159.zookeeper 有几种部署模式？

160.zookeeper 怎么保证主从节点的状态同步？

161.集群中为什么要有主节点？

162.集群中有 3 台服务器，其中一个节点宕机，这个时候 zookeeper 还可以使用吗？

163.说一下 zookeeper 的通知机制？

## **十七、MySql**

#### 164.数据库的三范式是什么？

第一范式：强调的是列的原子性，即数据库表的每一列都是不可分割的原子数据项。
第二范式：要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性。
第三范式：任何非主属性不依赖于其它非主属性。

#### 166.如何获取当前数据库版本？

 mysql -V

#### 167.说一下 ACID 是什么？

​	事务的四个特性

#### 168.char 和 varchar 的区别是什么？

​		char长度固定，varchar长度可边，varchar会按照实际大小缩小字段长度

#### 170.mysql 的内连接、左连接、右连接有什么区别？

1. 内连接,left join where ,先连接后过滤数据

2. 左链接,左边所有数据和右边满足条件的数据的笛卡尔积；


#### 171.mysql 索引是怎么实现的？

#### 172.怎么验证 mysql 的索引是否满足需求？

#### 173.说一下数据库的事务隔离？

#### 174.说一下 mysql 常用的引擎？

#### 175.说一下 mysql 的行锁和表锁？

#### 176.说一下乐观锁和悲观锁？

#### 177.mysql 问题排查都有哪些手段？

#### 178.如何做 mysql 的性能优化？

#### 179.如何改变数据库字段属性？

#### Q1：隔离级别以及引发的问题？

## **十八、Redis**

179.redis 是什么？都有哪些使用场景？

180.redis 有哪些功能？

181.redis 和 memecache 有什么区别？

182.redis 为什么是单线程的？

183.什么是缓存穿透？怎么解决？

184.redis 支持的数据类型有哪些？

185.redis 支持的 java 客户端都有哪些？

186.jedis 和 redisson 有哪些区别？

187.怎么保证缓存和数据库数据的一致性？

188.redis 持久化有几种方式？

189.redis 怎么实现分布式锁？

190.redis 分布式锁有什么缺陷？

191.redis 如何做内存优化？

192.redis 淘汰策略有哪些？

193.redis 常见的性能问题有哪些？该如何解决？