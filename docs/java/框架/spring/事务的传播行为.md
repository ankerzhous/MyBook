## 事务的传播行为

声明式事务使用的是@Transcantional注解

事务的传播：当执行一个事务方法中，执行了另一个事务方法，该事务方法是否会开启一个新的事务？

事务的传播行为有 required， requires_new

required ：不会开启一个新的事务，按照上层事务执行

requires_new：会开启一个新事务

比如结账方法要买两本书，（结账是一个事务，买书是一个事务）但是金额只能买一本，required时，不开启新事务，那么在结账方法中，显然结账失败，两本书都买失败。而requires_new，买一本书就开启了一个事务，第一本书可以买成功，第二本就会买失败。

如何设置

```java
@Transctional(propagation = Propagation.REQUIRED)
```

## 事务的隔离级别

读 未提交

读 已提交

可重复读（mysql默认）

serializable

```java
@Transctional(propagation = Propagation.REQUIRED,isolation=Isolation.DEFAULT)
```

事务并发会引起的问题：

脏读，不可重复度，幻读