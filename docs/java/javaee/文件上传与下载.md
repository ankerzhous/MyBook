# 文件上传

### 1.前端页面

前端页面，提交的是二进制数据设置 enctype="multipart/form-data

input框里 type = “file” 浏览器会自动加载一个框用于上传文件

```php+HTML
<form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="upload">
    <input type="submit" value="上传">
</form>

```



### 2.servlet处理

#### 1）不使用fileupload 组件

```java
 protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        InputStream inputStream = req.getInputStream();//这里使用的多态
        String path = req.getSession().getServletContext().getRealPath("");//找到文件当前路径的方法
        OutputStream outputStream = new FileOutputStream(path+"/file"+"1.txt");
        int temp = 0;
        while ((temp=inputStream.read())!=-1){
            outputStream.write(temp);
        }
        inputStream.close();
        outputStream.close();
}
```

**生成一个带有信息额外信息的文本**

![](C:\Users\Sander\Desktop\java笔记\javaee\img\原生方式.png)

#### 2）使用fileupload 组件

```

```

